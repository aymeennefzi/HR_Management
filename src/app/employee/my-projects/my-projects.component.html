
<section class="content">
  <div class="content-block">
    <div class="block-header">
      <!-- breadcrumb -->
      <app-breadcrumb [title]="'All Projects'" [items]="['Projects']" [active_item]="'All Projects'"></app-breadcrumb>
    </div>
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="card">
          <div class="body">
            <div class="wrapper">
        
              <main class="main">
                <div class="board">

                  <div class="list">
                
                    <ul class="projects" 
                  >
                      @for (project of projects ; track project) {
                        <li class="project " cdkDrag [cdkDragData]="project"  
                          >
                          <h4   class="project-title"><span  class="material-icons-outlined project-icon">
                            task_alt
                          </span >{{ project.NomProject }}</h4>
                          <small class="block text-ellipsis m-b-15">
                            <span class="text-xs">{{ project.tasks?.length || '0' }}</span> <span class="text-muted"> open tasks </span>
                          </small>
                          <span class="project-bedge project-type-{{ project.type }}">
                            <div class="pro-left ">
                              @if (project.type === 'Website') {
                                Website
                              }
                              @if (project.type === 'Android') {
                                Android
                              }
                              @if (project.type === 'IPhone') {
                                IPhone
                              }
                              @if (project.type === 'Testing') {
                                Testing
                              }
                              @if (project.type === 'other type') {
                                other type
                              }
                            </div>
                          </span>
                          <p class="mt-3"> {{ project?.description | truncate:[280, '&hellip;'] | stripHtml  }}
                          </p>
                          <div class="project-members m-b-15">
                            <ul class="team-members">
                              <li class="dropdown avatar-dropdown">
                                <div class="row">
                                  <div class="col-5 pro-left mb-2">Created:</div>
                                  <div class="col-7 pro-left mb-2"> <span class="material-icons-outlined project-icon2">
                                    date_range
                                  </span>{{convertDate(project?.StartDate)  | date }}</div>
                           <!--        <div class="col-5 pro-left mb-2">Team Leader:</div>
                                  <div class="col-7 pro-left mb-2">{{ project.NomChefProjet }}</div> -->
                                  <div class="col-5 pro-left mb-2">Priority:</div>
                                  <div class="col-7 pro-lef mb-2 project-priority-{{ project.priority }}">
                                    @if (project.priority === 1) {
                                      <span class="material-icons-outlined project-icon">
                                        keyboard_double_arrow_up
                                      </span>High
                                    }
                                    @if (project.priority === 0) {
                                      <span class="material-icons-outlined project-icon">
                                        switch_right
                                      </span>Medium
                                    }
                                    @if (project.priority === -1) {
                                      <span class="material-icons-outlined project-icon">
                                        keyboard_double_arrow_down
                                      </span>Low
                                    }
                                  </div>
                                  <div class="col-5 pro-left mb-2">Deadline:</div>
                                  <div class="col-7 pro-left mb-2">
                                    @if (project?.FinishDate ) {
                                      <div class="deadline" >
                                        <span class="material-icons-outlined project-icon2">
                                          date_range
                                        </span>{{ convertDate(project.FinishDate)  | date }}
                                      </div>
                                    }
                                  </div>
                               <!--    <div class="col-5 pro-left mb-2">Comments:</div>
                                  <div class="col-7 pro-left mb-2">{{ project.comments }}</div>
                                  <div class="col-5 pro-left mb-2">Bug:</div>
                                  <div class="col-7 pro-left mb-2">{{ project.bugs }}</div>
                                  <div class="col-5 pro-left mb-2">Team:</div>
                                  <div class="col-7 pro-left">
                                    <ul class="list-unstyled order-list">
                                      <li class="avatar avatar-sm"><img src="assets/images/user/user1.jpg" alt="user"
                                      class="rounded-circle"></li>
                                      <li class="avatar avatar-sm"><img src="assets/images/user/user2.jpg" alt="user"
                                      class="rounded-circle"></li>
                                      <li class="avatar avatar-sm"><img src="assets/images/user/user3.jpg" alt="user"
                                      class="rounded-circle"></li>
                                      <li class="avatar avatar-sm"><span class="badge">+4</span></li>
                                    </ul>
                                  </div> -->
                                </div>
                              </li>
                            </ul>
                          </div>
                          <p class="m-b-5">Progress <span class="text-success float-end">{{ project.progress }}%</span></p>
                          <div class="progress progress-xs mb-0">
                            <mat-progress-bar mode="determinate" value="{{ project.progress }}"></mat-progress-bar>
                          </div>
                   
                        </li>
                      }
                    </ul>
                  </div>
                
                </div>
              </main>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
